

팩추빌프싱
어브복데파플프
책커인반중매옵상전템비


![[Pasted image 20251111095856.png]]
@CrossOrigin("3000") 보안

## **왜 필요한가?**

웹 브라우저는 **보안 정책(Same-Origin Policy)** 때문에,  
`http://localhost:3000`(React) → `http://localhost:8080`(Spring) 같은 **서로 다른 출처 간 요청을 기본적으로 막습니다.**

이때 서버 측에서 해당 요청을 허용해 주려면 CORS 설정이 필요한데,  
그걸 간단히 해결하는 것이 **`@CrossOrigin`**입니다.

![[Pasted image 20251111100117.png]]

axios 로 로컬호스트 8080 연결해줘
@crossorigin 로 로컬호스트 3000으로 연결해줘


넷플릭스 검색 서비스
MSA
micro service architecture
;/

**드 밸런서(Load Balancer)** 는  
**여러 서버(혹은 인스턴스)로 들어오는 트래픽을 균등하게 분배하는 시스템**입니다.  
한 서버에 부하가 집중되거나 장애가 나도 서비스가 안정적으로 동작하도록 만들어 줍니다.

---

# ✅ 1. 로드 밸런서는 왜 필요할까?

서비스 규모가 커지면 이런 문제들이 생깁니다:

- 특정 서버에 트래픽이 몰려서 느려짐
    
- 서버 한 대가 다운되면 서비스 전체가 장애
    
- 확장하려고 여러 서버를 띄웠는데 어떻게 나눠줄지 모름
    
- 유지보수 때문에 서버 하나를 잠깐 내려도 서비스 중단 발생
    

👉 로드 밸런서는 **이 모든 문제를 해결하기 위한 기본 인프라 구성 요소**입니다.

---

# ✅ 2. 로드 밸런서의 핵심 역할

### ✔ 1) **트래픽 분산**

클라이언트의 요청을 여러 서버에 적절히 분배.

### ✔ 2) **헬스 체크(Health Check)**

서버가 살아있는지 정기적으로 확인 → 죽은 서버로는 요청을 보내지 않음.

### ✔ 3) **Failover(장애 시 자동 전환)**

서버가 다운되면 즉시 다른 서버로 트래픽 전환.

### ✔ 4) **SSL 종료(TLS Termination)**

SSL 인증서 작업을 로드 밸런서에서 처리해 서버는 부담을 줄임.

### ✔ 5) **스케일 아웃 지원**

서버를 늘렸다 줄였다 하는 오토스케일링과 자연스럽게 연동됨.


HTTP는 **HyperText Transfer Protocol(하이퍼텍스트 전송 프로토콜)** 의 약자로,  
웹에서 **클라이언트와 서버가 데이터를 주고받기 위한 기본 통신 규약(protocol)** 입니다.  
브라우저가 웹 서버에서 HTML, CSS, 이미지, API 데이터를 요청할 때 모두 HTTP를 사용합니다.

DNS
도메인 네임 서비스


아, 이제 이해했습니다. "**라운드 로빈(Round Robin) 방식**"은 **로드 밸런싱(load balancing)에서 가장 많이 사용되는 알고리즘 중 하나**입니다.

---

# ✅ 1. 라운드 로빈(Round Robin) 개념

- 뜻 그대로 **“원형으로 돌아가면서 순서대로 배분”** 하는 방식
    
- 들어오는 요청(Request)을 **서버 리스트에 순차적으로 분배**
    
- 가장 단순하고 직관적인 부하 분산 방식
    

예시:

|서버|요청 순서|
|---|---|
|Server1|1, 4, 7|
|Server2|2, 5, 8|
|Server3|3, 6, 9|

→ 요청이 순서대로 돌아가면서 균등하게 분배됨

---

# ✅ 2. 라운드 로빈의 장점

1. **구현이 매우 간단**
    
2. **서버 부하가 균등하게 분배**됨(서버 성능이 비슷할 경우)
    
3. **특별한 상태 정보(State) 유지 필요 없음**
    

---

# ✅ 3. 라운드 로빈의 단점

1. **서버 성능 차이를 고려하지 않음**
    
    - 느린 서버에도 동일하게 요청이 전달 → 병목 발생 가능
        
2. **동적 트래픽 변화 대응 어려움**
    
    - 서버 상태(과부하, 장애)를 반영하기 어렵다
        
3. **세션 유지 문제**
    
    - 로그인 상태(session) 기반 서비스에서 “sticky session” 없으면 매 요청 다른 서버로 전달될 수 있음
        

---

# ✅ 4. 라운드 로빈 변형 방식

1. **가중치 라운드 로빈(Weighted Round Robin)**
    
    - 서버 성능에 따라 가중치를 부여
        
    - 고성능 서버에는 요청을 더 많이 배분, 저성능 서버에는 적게 배분
        
2. **라운드 로빈 + 헬스 체크**
    
    - 서버 장애 시 순회에서 제외
        
    - Nginx, HAProxy에서 자주 사용

디스커버리 클라이언트 인터페이스

컴포넌트 파이프라인 연결



gradle 멀티모듈
MSA 기본구조 마이크로서비스 아키텍쳐

![[Pasted image 20251111143626.png]]

eureka
configuration
gateway 
secret
서버

service
서비스

화면 - gateway(facade) - secret - configuration(구성) - eureka(discovery)
문짝-중앙구성저장소-찾아주는거



@Dockerfile 이 도커파일에 오픈 jdk 21 슬림 버전 이미지를 볼륨은 tmp를 사용

엔트리 포인트는 gateway로 해서 이 파일을 작성해줘

보안 레포지토리 스프링유레카에 컨피그 서버에 설정


@application.yaml @application.yaml (19-23) 비밀키를 .env파일에서 호출 하도록 해줘


