
프로토콜 에러가 나지 않지만 작동이 안됨

OAuth 인증만 해줌(naver google kakao)
인가는 우리가

카카오인증시스템
인증은 정형화 됨(쉬움)




개발자  클라이언트 실제사용자

오너 - 개인정보 소유 하는 사용자 'resource'는 개인정보


오너 클라이언트서버 개발자
구글
AuthCode (인가코드)

구글 네이버 페이스북 - 리소스서버

accesstoken(만료기간 짧음)
afreshtoken(만료기간 김)
두개 보내는게 규약
experation 만료기간

프론트 EDD 이벤트 주도개발()
DDD 도메인 주도개발(확장성이 좋더라)

프론트 app 페이지의 집합()


프롬프트
페이지에서 핸들러를 mainservice.ts 여기로 리팩토링 해주는데 import 는 너가 자동으로 연결 하도록 조치해줘
'import' 자동으로 해줘 필요함


자바스크립트의 꽃 클로저 함수?@

### 2. 이론의 꽃: 클로저 (Closure)

이건 좀 더 깊이 있는 개념인데, 쉽게 말해 **"함수가 태어난 곳을 기억하는 것"**입니다.

- 보통 함수는 실행이 끝나면 내부의 변수들이 다 사라집니다.
    
- 하지만 **클로저**를 쓰면, 함수가 실행이 끝났는데도 그 안의 변수가 죽지 않고 살아남아 있습니다. 마치 **"타임캡슐"**이나 **"기억 저장소"**를 가지고 다니는 것과 같습니다.
    

**왜 중요할까요?** 리액트(React)를 배우실 때 `useState` 같은 훅(Hook)들이 바로 이 클로저 원리를 이용해서 상태(데이터)를 기억합니다.

클로저(이너함수)


프롬프트
햄들러들을 클로저로 구조를 변경해서 이너함수로 변경해줘



![[Pasted image 20251128112954.png]]

람다함수 메모리 안쓰기 위해서

###   
IIFE란? (Immediately Invoked Function Expression)

**즉시 실행 함수 표현식** — 정의되자마자 바로 실행되는 함수

JavaScript

```
(function () {
  // 여기 있는 코드는 바로 실행됨
  console.log("나 지금 실행됐어!");
})();
```

이게 바로 가장 기본적인 **IIFE 패턴**입니다.

### 왜 쓰는 거야? (실무에서 진짜 이유)

| 시대        | 이유                                         | 예시          |
| --------- | ------------------------------------------ | ----------- |
| ES6 이전    | **전역 변수 오염 방지** → var로 선언한 변수가 전역 스코프를 더럽힘 | jQuery 플러그인 |
| ES6 이전    | **모든라이제이션 전에 private 스코프 만들기**             | 라이브러리 작성    |
| 지금 (2025) | 여전히 유효한 몇 가지 상황!                           | 아래에서 설명     |
성능!!

IIFE 엔진을 하나 더 단 느낌


이벤트 없이 작동 - 즉시호출 (상시대기) 이파이 모니터링한다

( )( )모니터링 호출

화면은 일반함수

속성tsx 
기능 ts

