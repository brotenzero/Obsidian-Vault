


JPA에서 말하는 **"크로스 엔티티(Cross Entity)"** — 즉, **여러 엔티티 간의 관계나 조합을 다루는 로직** — 는 일반적으로 GoF(Gang of Four) 디자인 패턴 중 몇 가지와 **간접적으로 연관**되어 있습니다.  
정확히 어떤 "크로스 엔티티" 상황을 말하는지에 따라 다르지만, 대표적인 패턴과의 대응을 정리해보면 다음과 같습니다.

---

### 🧩 1. **Mediator 패턴 (중재자 패턴)**

**가장 유사한 패턴입니다.**

- **상황**: 여러 엔티티가 서로 직접 참조하거나 상호작용하지 않고,  
    별도의 서비스나 도메인 객체가 이 관계를 "중재"할 때.
    
- **예시**
    
    `class OrderService {     public void createOrder(User user, Product product) {         Order order = new Order(user, product);         user.addOrder(order);         product.decreaseStock();         // 관계 조정     } }`
    
    여기서 `OrderService`는 `User`, `Product`, `Order` 등 **서로 다른 엔티티 간의 관계를 조정하는 중재자** 역할을 합니다.
    

👉 즉, **JPA의 크로스 엔티티 로직은 주로 Mediator 패턴적 성격**을 가집니다.  
(특히 도메인 서비스나 애그리게이트 간 조율 로직에서.)

---

### 🧱 2. **Facade 패턴**

- 여러 엔티티를 묶어서 하나의 **단순화된 인터페이스**로 제공하는 경우.
    
- 예: 여러 엔티티를 조회하거나 업데이트해야 하지만, 외부에서는 `OrderFacade.placeOrder()`만 호출하도록 하는 경우.
    

👉 외부 복잡성을 감추는 역할로, **비즈니스 레벨의 크로스 엔티티 서비스**는 종종 Facade 역할을 합니다.

---

### 🔗 3. **Composite / Aggregator 패턴**

- 여러 엔티티를 **하나의 논리적 단위(aggregate)** 로 묶어 다룰 때.
    
- 예: `Order`가 `OrderItem` 들을 포함하고 있을 때, `Order` 엔티티가 내부적으로 여러 아이템을 관리.
    

👉 DDD의 Aggregate 개념은 GoF의 **Composite 패턴**에 유사합니다.  
즉, 하나의 루트 엔티티가 하위 엔티티들을 포함·관리하는 구조.

---

### 💡 요약 비교

|상황|가까운 GoF 패턴|설명|
|---|---|---|
|여러 엔티티 간 관계 조정|**Mediator**|서로 다른 엔티티 간 상호작용을 중재하는 서비스|
|외부에 단순화된 진입점 제공|**Facade**|복잡한 엔티티 조합 로직을 숨기고 단일 API 제공|
|하나의 루트 엔티티가 하위 엔티티 관리|**Composite**|엔티티 트리를 하나의 단위로 취급|

---

### 🔍 결론

> **JPA의 "크로스 엔티티" 로직은 전형적으로 `Mediator 패턴`에 가장 가깝다.**  
> 그 외에도 서비스 계층에서 `Facade` 패턴적 구조를 취하거나,  
> 애그리게이트 루트 설계에서는 `Composite` 패턴과 닮은 면이 있다.


Design Pattern

팩토리 매서드 패턴
생성패턴

팩토리매서드
추상팩토리
빌더
프로토타입
싱글톤

구조패턴
어댑터
브릿지
복합체
데코레이터
파사드
플라이웨이트
프록시

책임연쇄
커맨드
인터프리터
반복자
중재자
메멘토
옵저버
상태
전략
템플릿메서드
비지터


팩추빌프싱
어브복데파플프
책커인반중매옵상전템비
